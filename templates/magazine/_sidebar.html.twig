{% include 'magazine/panel/_sidebar.html.twig' %}
{% from 'user/_macros.html.twig' import user %}

<div class="kbin-magazine mb-4 mt-lg-0">
    {{ component('magazine', {magazine: magazine}) }}

    {% if magazine.moderators|length %}
        <div class="kbin-users mb-4 col-sm-6 col-lg-12 px-sm-1 px-lg-0 float-sm-start">
            <div class="card">
                <div class="card-header">
                    {{ 'moderators'|trans }}
                </div>
                <ul class="list-group list-group-flush">
                    {% for moderator in magazine.moderators|slice(0, 5) %}
                        <li class="list-group-item">
                            {% include 'user/_avatar.html.twig' with { user: moderator.user } %}<span class="text-muted">/u/</span><a
                                    class="text-decoration-none stretched-link"
                                    href="{{ path('user', {'username': moderator.user.username}) }}">{{ moderator.user.username }}</a>
                        </li>
                    {% endfor %}
                    {% if magazine.moderators|length > 5 %}
                        <li class="list-group-item text-center">
                            <a class="text-decoration-none stretched-link"
                               href="{{ path('magazine_moderators', {'name': magazine.name}) }}">{{ 'more'|trans }}...</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    {% endif %}

    {% if magazine.badges|length %}
        <div class="kbin-badges mb-4 col-sm-6 col-lg-12  px-sm-1 px-lg-0 float-sm-start">
            <div class="card">
                <div class="card-header">
                    {{ 'badges'|trans }}
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        {% for badge in magazine.badges %}
                            <span class="badge bg-secondary me-1">{{ badge.name }}</span>
                        {% endfor %}
                    </li>
                </ul>
            </div>
        </div>
    {% endif %}
</div>
